# ============================================================================
#                    CRYPTOVAULT ENTERPRISE - ENVIRONMENT CONFIG
# ============================================================================
# 
# This file contains all configuration for CryptoVault Enterprise.
# Copy to .env.local and update values as needed.
#
# LOCAL DEVELOPMENT: Leave AWS/GCP values as DUMMY_* to use local storage mode.
# PRODUCTION: Replace with real credentials following the setup guides below.
#
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# 
# Option 1: Neon.tech (RECOMMENDED - Free tier, serverless PostgreSQL)
#   1. Go to https://neon.tech and create free account
#   2. Create new project named "cryptovault"
#   3. Copy the connection string from Dashboard ‚Üí Connection Details
#   4. Use the "Pooled connection" string for serverless
#
# Option 2: Supabase (Free tier with extras)
#   1. Go to https://supabase.com and create free account
#   2. Create new project named "cryptovault"
#   3. Go to Settings ‚Üí Database ‚Üí Connection string
#   4. Use the "Direct connection" string
#
# Option 3: Local PostgreSQL
#   1. Install PostgreSQL: brew install postgresql (macOS)
#   2. Create database: createdb cryptovault
#   3. Use: postgresql://localhost:5432/cryptovault
#
DATABASE_URL="postgresql://user:password@localhost:5432/cryptovault?schema=public"

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
# 
# Generate a secure secret:
#   openssl rand -base64 32
# 
# NEVER use the default value in production!
#
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production-12345678"
JWT_EXPIRES_IN="7d"

# ============================================================================
# AWS CONFIGURATION
# ============================================================================
# 
# üîß SETUP GUIDE (15 minutes):
#
# Step 1: Create AWS Account (skip if you have one)
#   ‚Üí https://aws.amazon.com/free/
#
# Step 2: Create IAM User for CryptoVault
#   1. Go to AWS Console ‚Üí IAM ‚Üí Users ‚Üí Create User
#   2. User name: "cryptovault-app"
#   3. Select "Attach policies directly"
#   4. Create custom policy with this JSON:
#      {
#        "Version": "2012-10-17",
#        "Statement": [
#          {
#            "Effect": "Allow",
#            "Action": ["s3:PutObject", "s3:GetObject", "s3:DeleteObject", "s3:ListBucket"],
#            "Resource": ["arn:aws:s3:::YOUR-BUCKET-NAME", "arn:aws:s3:::YOUR-BUCKET-NAME/*"]
#          },
#          {
#            "Effect": "Allow", 
#            "Action": ["kms:Encrypt", "kms:Decrypt", "kms:GenerateDataKey"],
#            "Resource": "YOUR-KMS-KEY-ARN"
#          }
#        ]
#      }
#
# Step 3: Create Access Keys
#   1. Go to IAM ‚Üí Users ‚Üí cryptovault-app ‚Üí Security credentials
#   2. Click "Create access key" ‚Üí "Application running outside AWS"
#   3. Copy Access Key ID and Secret Access Key
#
# Step 4: Create S3 Bucket
#   1. Go to S3 ‚Üí Create bucket
#   2. Bucket name: "cryptovault-files-UNIQUE-ID" (must be globally unique)
#   3. Region: us-east-1 (or your preferred region)
#   4. Block all public access: ENABLED (required for security!)
#   5. Bucket versioning: Enabled
#   6. Default encryption: SSE-KMS with AWS managed key
#
# Step 5: Create KMS Key
#   1. Go to KMS ‚Üí Create key
#   2. Key type: Symmetric
#   3. Key usage: Encrypt and decrypt
#   4. Alias: "cryptovault-master-key"
#   5. Key administrators: Your IAM user
#   6. Key users: cryptovault-app IAM user
#   7. Copy the Key ARN (starts with arn:aws:kms:...)
#
# ‚ö†Ô∏è  LOCAL DEV MODE: Leave as DUMMY_* to use browser localStorage instead of S3
#
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="DUMMY_ACCESS_KEY"
AWS_SECRET_ACCESS_KEY="DUMMY_SECRET_KEY"
AWS_S3_BUCKET="cryptovault-local-bucket"
AWS_KMS_KEY_ARN="arn:aws:kms:us-east-1:123456789012:key/dummy-key-id"

# ============================================================================
# GCP CONFIGURATION (OPTIONAL - For Multi-Cloud Redundancy)
# ============================================================================
#
# üîß SETUP GUIDE (20 minutes):
#
# Step 1: Create GCP Project
#   1. Go to https://console.cloud.google.com/
#   2. Create new project: "cryptovault-enterprise"
#   3. Note the Project ID (not project name)
#
# Step 2: Enable APIs
#   1. Go to APIs & Services ‚Üí Enable APIs
#   2. Enable: Cloud Storage API, Cloud KMS API
#
# Step 3: Create Service Account
#   1. Go to IAM & Admin ‚Üí Service Accounts
#   2. Create service account: "cryptovault-service"
#   3. Grant roles:
#      - Storage Object Admin
#      - Cloud KMS CryptoKey Encrypter/Decrypter
#   4. Create key ‚Üí JSON ‚Üí Download the JSON file
#   5. Save as "gcp-service-account.json" in project root
#
# Step 4: Create Cloud Storage Bucket
#   1. Go to Cloud Storage ‚Üí Create Bucket
#   2. Name: "cryptovault-backup-UNIQUE-ID"
#   3. Location: europe-west1 (different region from AWS for redundancy)
#   4. Storage class: Standard
#   5. Access control: Uniform
#
# Step 5: Create KMS Keyring & Key
#   1. Go to Security ‚Üí Key Management
#   2. Create key ring: "cryptovault-keyring" in same location as bucket
#   3. Create key: "cryptovault-master-key"
#   4. Purpose: Symmetric encrypt/decrypt
#
# ‚ö†Ô∏è  OPTIONAL: Leave empty to skip GCP backup (AWS-only mode)
#
GCP_PROJECT_ID=""
GCP_STORAGE_BUCKET=""
GCP_KMS_KEYRING=""
GCP_KMS_KEY=""
GCP_SERVICE_ACCOUNT_KEY_PATH=""

# ============================================================================
# NEXT.JS CONFIGURATION
# ============================================================================
#
# NEXT_PUBLIC_APP_URL: Base URL of your application
#   Development: http://localhost:3000
#   Production: https://your-domain.com (update after deploying)
#
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NODE_ENV="development"

# ============================================================================
# FEATURE FLAGS
# ============================================================================
#
# Toggle advanced cryptographic features:
#
# ENABLE_FHE: Fully Homomorphic Encryption for searchable encryption
#   ‚Üí Requires additional Microsoft SEAL setup
#   ‚Üí Set to "true" when you've configured SEAL
#
# ENABLE_MPC: Multi-Party Computation for threshold signatures
#   ‚Üí Requires AWS Nitro Enclaves / GCP Confidential Space
#   ‚Üí Set to "true" for enhanced security on critical operations
#
# ENABLE_ORAM: Oblivious RAM for access pattern hiding
#   ‚Üí Adds overhead but hides which files are accessed
#   ‚Üí Set to "true" for maximum privacy
#
# ENABLE_ABE: Attribute-Based Encryption for policy-based access
#   ‚Üí Enables fine-grained access control
#   ‚Üí Set to "true" when user attributes are configured
#
# ENABLE_POST_QUANTUM: Post-quantum cryptography (Kyber/Dilithium)
#   ‚Üí Hybrid encryption resistant to quantum attacks
#   ‚Üí Recommended to keep "true" for future-proofing
#
ENABLE_FHE="false"
ENABLE_MPC="false"
ENABLE_ORAM="false"
ENABLE_ABE="false"
ENABLE_POST_QUANTUM="true"

# ============================================================================
# QUICK START CHECKLIST
# ============================================================================
#
# ‚òê 1. Copy this file to .env.local
# ‚òê 2. Set up database (Neon.tech recommended)
# ‚òê 3. Update DATABASE_URL with your connection string
# ‚òê 4. Generate and set JWT_SECRET (openssl rand -base64 32)
# ‚òê 5. Run: npm install
# ‚òê 6. Run: npx prisma db push
# ‚òê 7. Run: npm run dev
# ‚òê 8. Open: http://localhost:3000/test-crypto (verify crypto works)
# ‚òê 9. Open: http://localhost:3000/demo (test with sample data)
#
# For AWS integration (optional):
# ‚òê 10. Follow AWS setup guide above
# ‚òê 11. Update AWS_* variables with real credentials
# ‚òê 12. Restart dev server
# ‚òê 13. Upload a file and verify it appears in your S3 bucket
#
# ============================================================================
